@model InterGalacticEcomm.Models.CategoryProductVM

<h1>@Model.Category.CategoryName </h1>

<p>Category Description: @Model.Category.Description</p>

<p>Here are all the products within this category:</p>
<ul>
    @foreach (var item in @Model.Product)
    {
<li>
    <a asp-controller="Admin" asp-action="Product" asp-route-Name="@item.Name">@item.Name</a>
</li>}
</ul>

@if (User.Identity.IsAuthenticated)
{
    <form asp-controller="Admin" method="post" asp-action="category">
        <label>
            <p>Create a Category</p>
            <span>Name</span>
            <input asp-for="@Model.Category.CategoryName" />

            <span>Description</span>
            <input asp-for="@Model.Category.Description" />

            <input type="submit" value="Create" />
        </label>
    </form>

    <div asp-validation-summary="All"></div>

    <form asp-controller="Admin" method="post" asp-action="UpdateCategory">
        <label>
            <p>Update a Category</p>
            <span>Name</span>
            <input asp-for="@Model.Category.CategoryName" />

            <span>Description</span>
            <input asp-for="@Model.Category.Description" />

            <input type="hidden" name="Id" value="@Model.Category.Id" />


            <input type="submit" value="Update" />
        </label>
    </form>

    <div asp-validation-summary="All"></div>


    <form asp-controller="Admin" method="delete" asp-action="DeleteCategory">
        <label>
            <p>Delete a Category</p>
            <span>Name</span>
            <input asp-for="@Model.Category.CategoryName" />

            <input type="hidden" name="Id" value="@Model.Category.Id" />

            <input type="submit" value="Delete" />
        </label>
    </form>

    <div asp-validation-summary="All"></div>

}

